(this["webpackJsonpnewtone-test"]=this["webpackJsonpnewtone-test"]||[]).push([[0],{37:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var c,i,r,a,j,u,o,b,s,d,l,O,x,f,h,v,p,g=n(0),m=n.n(g),k=n(24),w=n.n(k),C=(n(37),n(2)),y=n(4),B=n(12),S=n(3),F=n(5),T=n(25),D=n(26),I=n(32),z=n(30),E=n(31),P=n(13),J=n(1),L=[{id:1,title:"\u0411\u0430\u043d\u0430\u043d",price:10,discount:!1},{id:2,title:"\u042f\u0431\u043b\u043e\u043a\u0438",price:8,discount:!1},{id:3,title:"\u041f\u0430\u043f\u0430\u0439\u0430",price:10,discount:!0}],R=m.a.createContext(),V=function(t){var e=t.children,n=Object(g.useState)(L),c=Object(P.a)(n,2),i=c[0],r=c[1],a=Object(g.useState)([]),j=Object(P.a)(a,2),u=j[0],o=j[1],b=Object(g.useState)(0),s=Object(P.a)(b,2),d=s[0],l=s[1];Object(g.useEffect)((function(){if(u.length){var t=0,e=u.find((function(t){return!0===t.discount}));if(e){var n=e.value,c=e.price;t+=function(t,e){var n=3,c=25,i=0;if(t%n===0)i+=t/n*c;else{var r=(t/n).toString();i+=Number(r.split(".")[0])*c,i+=t%n*e}return i}(n,c)}u.forEach((function(n){n!==e&&(t+=n.value*n.price)})),l(t)}else l(0)}),[u]);return Object(J.jsx)(R.Provider,{value:{data:i,setData:r,busket:u,addToBusket:function(t){var e=u.find((function(e){return e.id===t.id}));if(e){var n=u.map((function(n){return n.id===e.id&&(n.value=e.value+t.value),n}));o(n)}else o([].concat(Object(E.a)(u),[t]))},deleteItemFromBusket:function(t){o(u.filter((function(e){return e.id!==t})))},totalValue:d},children:e})},$=function(t){return function(e){Object(I.a)(c,e);var n=Object(z.a)(c);function c(){return Object(T.a)(this,c),n.apply(this,arguments)}return Object(D.a)(c,[{key:"render",value:function(){var e=this;return Object(J.jsx)(R.Consumer,{children:function(n){return Object(J.jsx)(t,Object(F.a)(Object(F.a)({},n),e.props))}})}}]),c}(m.a.Component)},M=n(10),N=(S.a.div(c||(c=Object(C.a)([""]))),S.a.div(i||(i=Object(C.a)([""])))),q=S.a.div(r||(r=Object(C.a)(["\n  display: flex;\n\n  ",";\n  ",";\n"])),(function(t){return t.center&&"align-items:center"}),(function(t){return t.btw&&"justify-content:space-between"})),A=function(t){return Object(J.jsx)(q,Object(F.a)(Object(F.a)({},t),{},{children:t.children}))},G=function(t){var e=t.children,n=Object(M.a)(t,["children"]);return Object(J.jsx)(N,Object(F.a)(Object(F.a)({},n),{},{children:e}))},H=S.a.div(a||(a=Object(C.a)(["\n  font-size: ",";\n  color: ",";\n  font-weight: ",";\n\n  ","\n"])),(function(t){return t.size?"".concat(t.size,"px"):"14px"}),(function(t){return t.color||"#1B1D28"}),(function(t){return t.weight?"".concat(t.weight):"400"}),(function(t){return t.bold&&"font-weight:700"})),K=function(t){var e=t.text,n=Object(M.a)(t,["text"]);return Object(J.jsx)(H,Object(F.a)(Object(F.a)({},n),{},{children:e}))},Q=Object(S.a)(A)(j||(j=Object(C.a)(["\n  background: #ffc5c5;\n  border-radius: 10px;\n  padding: 10px 15px;\n  margin-bottom: 15px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),U=S.a.img.attrs((function(t){return{src:t.url}}))(u||(u=Object(C.a)([""]))),W=S.a.div(o||(o=Object(C.a)(["\n  font-weight: 700;\n"]))),X=S.a.button(b||(b=Object(C.a)(['\n  background-color: blue;\n  color: #fff;\n  font-weight: 500;\n  font-family: "Roboto";\n  border-radius: 5px;\n  padding: 8px 10px;\n  min-width: 30px;\n\n  transition: 0.4s;\n\n  &:hover {\n    background-color: #0000ff8f;\n  }\n']))),Y=function(t){var e=t.text,n=t.onClick,c=Object(M.a)(t,["text","onClick"]);return Object(J.jsx)(X,Object(F.a)(Object(F.a)({onClick:n},c),{},{children:e}))},Z=S.a.div(s||(s=Object(C.a)(["\n  height: 100%;\n  width: 100%;\n"]))),_=S.a.div(d||(d=Object(C.a)(["\n  width: 300px;\n"]))),tt=Object(S.a)(Q)(l||(l=Object(C.a)(["\n  position: relative;\n"]))),et=Object(S.a)(Y)(O||(O=Object(C.a)([""]))),nt=$((function(t){var e=t.busket,n=t.totalValue,c=t.deleteItemFromBusket;return Object(J.jsxs)(Z,{children:[Object(J.jsx)(_,{as:"ul",children:e.length?Object(J.jsxs)(G,{children:[null===e||void 0===e?void 0:e.map((function(t){var e=t.id,n=t.title,i=t.value;return Object(J.jsxs)(tt,{as:"li",children:[Object(J.jsx)(G,{children:Object(J.jsx)(K,{text:n,bold:!0})}),Object(J.jsx)(G,{children:Object(J.jsx)(G,{children:Object(J.jsx)(K,{text:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ".concat(i)})})}),Object(J.jsx)(A,{style:{justifyContent:"flex-end"},children:Object(J.jsx)(et,{text:"Delete",onClick:function(){return c(e)}})})]},e)})),Object(J.jsx)(K,{text:"\u041e\u0431\u0449\u0430\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ".concat(n)})]}):Object(J.jsx)(K,{text:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430 ..."})}),Object(J.jsx)(B.b,{to:"/",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0421\u043f\u0438\u0441\u043e\u043a"})]})})),ct=S.a.div(x||(x=Object(C.a)(["\n  margin: 0 auto;\n  width: 1000px;\n"]))),it=function(t){var e=t.children;return Object(J.jsx)(ct,{children:e})},rt=Object(S.a)(A)(f||(f=Object(C.a)([""]))),at=S.a.div(h||(h=Object(C.a)([""]))),jt=function(t){var e=t.value,n=t.incr,c=t.decr;return Object(J.jsxs)(rt,{center:!0,children:[Object(J.jsx)(at,{children:"".concat(e," \u043a\u0433")}),Object(J.jsx)(Y,{text:"-",style:{marginRight:10},onClick:function(){return c()}}),Object(J.jsx)(Y,{text:"+",onClick:function(){return n()}})]})},ut=$((function(t){var e=t.product,n=Object(M.a)(t,["product"]),c=function(){var t=Object(g.useState)(1),e=Object(P.a)(t,2),n=e[0],c=e[1];return{value:n,incr:function(){c((function(t){return t+1}))},decr:function(){c((function(t){return 1===n?1:n-1}))}}}(),i=c.value,r=c.incr,a=c.decr,j=e.title,u=e.price,o=e.discount,b=n.addToBusket;return Object(J.jsxs)(Q,Object(F.a)(Object(F.a)({},n),{},{children:[Object(J.jsx)(G,{children:Object(J.jsx)(U,{})}),Object(J.jsxs)(A,{btw:!0,children:[Object(J.jsx)(W,{children:j}),Object(J.jsx)(G,{children:Object(J.jsx)(jt,{value:i,incr:r,decr:a})})]}),Object(J.jsxs)(A,{center:!0,btw:!0,style:{marginTop:20},children:[Object(J.jsxs)(G,{children:[Object(J.jsx)(K,{text:"".concat(u,"$")}),o&&Object(J.jsx)(K,{text:"\u0441\u043a\u0438\u0434\u043a\u0430 (25$ \u0437\u0430 3\u043a\u0433)"})]}),Object(J.jsx)(Y,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",onClick:function(){return b(Object(F.a)(Object(F.a)({},e),{},{value:i,price:u}))}})]})]}))})),ot=S.a.div(v||(v=Object(C.a)(["\n  height: 100%;\n  width: 100%;\n"]))),bt=Object(S.a)(G)(p||(p=Object(C.a)(["\n  width: 340px;\n"]))),st=$((function(t){var e=t.data;return Object(J.jsx)(ot,{children:Object(J.jsx)(it,{children:Object(J.jsxs)(y.c,{children:[Object(J.jsxs)(y.a,{path:"/busket",children:[Object(J.jsx)(K,{text:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",bold:!0}),Object(J.jsx)(nt,{})]}),Object(J.jsxs)(y.a,{exact:!0,path:"/",children:[Object(J.jsx)(K,{text:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u041f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432",bold:!0}),Object(J.jsx)(bt,{as:"ul",children:null===e||void 0===e?void 0:e.map((function(t){return Object(J.jsx)(ut,{as:"li",product:t},t.id)}))}),Object(J.jsx)(B.b,{to:"/busket",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u041a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})})})),dt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),r(t),a(t)}))};w.a.render(Object(J.jsx)(m.a.StrictMode,{children:Object(J.jsx)(V,{children:Object(J.jsx)(B.a,{children:Object(J.jsx)(st,{})})})}),document.getElementById("root")),dt()}},[[45,1,2]]]);
//# sourceMappingURL=main.0e54c4b4.chunk.js.map